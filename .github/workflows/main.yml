name: CI Pipeline

on: [push]

jobs:
  build-and-test:
    runs-on: ubuntu-latest

    steps:
    - name: Checkout code
      uses: actions/checkout@v3

    - name: Build the Stack
      run: |
        docker compose build
        echo "Build successful! The images are ready."

    - name: Test Run (Sanity Check)
      run: |
        docker compose up -d
        docker ps -a
        sleep 10
        docker compose logs
